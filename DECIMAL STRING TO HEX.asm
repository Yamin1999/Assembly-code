;SUM OF DECIMAL STRING AND ANSWER IN HEX

INCLUDE "EMU8086.INC"
.MODEL SMALL
.STACK 100H
.DATA  

.CODE 

MAIN PROC
    MOV AX,@DATA
    MOV DS,AX
    
 PRINT 'ENTER A DECIMAL DIGIT STRING:  ' 
    MOV AH,1 
    XOR BX,BX
    
    WHILE:
    INT 21H
    CMP AL,0DH
    JE END_WHILE
    AND AL,0FH
    
    ADD BL,AL
    
    JMP WHILE
    
    END_WHILE:
    
 PRINTN
PRINT 'THE SUM OF THE DIGITS IN HEX:  '
MOV CX,4         ;COUNTER FOR 4 SHIFTS
XOR DX,DX        ;CLEAR DX
                 

LOOP3:

MOV DL,BH        ;MOVE VALUE BH TO DL
SHR DL,4         ;SHIFT RIGHT 4 TIMES

CMP DL,9         ;IF NUMBER?
JLE NUMBER3

CMP DL,15        ;IF LETTER?
JLE LETTER3

NUMBER3:         ;CONVERT IN NUMBER
ADD DL,48
MOV AH,2
INT 21H
JMP CLEAR

LETTER3:         ;CONVERT IN LETTER
ADD DL,55
MOV AH,2
INT 21H
JMP CLEAR

CLEAR:           ;ROTATE LEFT 4 TIMES
ROL BX,4

LOOP LOOP3



EXIT:            ;EXIT DOS
MOV AX,4CH
INT 21H
MAIN ENDP
END MAIN   
    
    